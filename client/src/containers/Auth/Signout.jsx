import { useDispatch } from "react-redux";
import setAuthToken from "../../utils/setAuthToken";
import { setCurrentUser } from "../../store/userSlice";
import { NavLink } from "react-router-dom";

const Signout = () => {
  const dispatch = useDispatch();

  const handleSignOut = () => {
    localStorage.removeItem("jwtToken");
    setAuthToken(false);
    dispatch(setCurrentUser({}));
  };

  return (
    <NavLink
      className="flex items-center gap-[15px] rounded-r pl-[35px] py-[18px] text-[#222222] hover:bg-[#22222280] cursor-pointer"
      onClick={handleSignOut}
    >
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        xmlns="http://www.w3.org/2000/svg"
        className="fill-[#222222]"
      >
        <g clipPath="url(#clip0_1121_80646)">
          <path d="M18.0008 13.4367C17.8234 13.4367 17.6533 13.5072 17.5279 13.6326C17.4025 13.758 17.332 13.9281 17.332 14.1055C17.3304 15.3432 16.838 16.5297 15.9628 17.4049C15.0876 18.2801 13.901 18.7726 12.6633 18.7742H7.33203C6.09539 18.7709 4.91044 18.2778 4.03659 17.4027C3.16274 16.5277 2.67118 15.3421 2.66953 14.1055V6.10547C2.67118 4.86775 3.1636 3.68119 4.0388 2.80599C4.91401 1.93079 6.10056 1.43837 7.33828 1.43672H12.6695C13.9062 1.44002 15.0911 1.93317 15.965 2.80819C16.8388 3.68322 17.3304 4.86883 17.332 6.10547C17.323 6.1983 17.3335 6.29199 17.3629 6.38052C17.3922 6.46904 17.4398 6.55045 17.5025 6.61951C17.5652 6.68857 17.6416 6.74376 17.7269 6.78152C17.8122 6.81928 17.9044 6.83879 17.9977 6.83879C18.0909 6.83879 18.1832 6.81928 18.2684 6.78152C18.3537 6.74376 18.4302 6.68857 18.4928 6.61951C18.5555 6.55045 18.6031 6.46904 18.6324 6.38052C18.6618 6.29199 18.6723 6.1983 18.6633 6.10547C18.6616 4.51576 18.0298 2.99154 16.9063 1.86686C15.7828 0.742178 14.2592 0.108776 12.6695 0.105469L7.33203 0.105469C5.74124 0.107123 4.21608 0.739796 3.09122 1.86466C1.96636 2.98952 1.33369 4.51468 1.33203 6.10547V14.1055C1.33369 15.6963 1.96636 17.2214 3.09122 18.3463C4.21608 19.4711 5.74124 20.1038 7.33203 20.1055H12.6633C14.2541 20.1038 15.7792 19.4711 16.9041 18.3463C18.029 17.2214 18.6616 15.6963 18.6633 14.1055C18.6633 13.9292 18.5937 13.76 18.4696 13.6348C18.3456 13.5096 18.1771 13.4384 18.0008 13.4367Z" />
          <path d="M17.9992 9.43644H10.2742L11.8054 7.90519C11.8981 7.77543 11.9414 7.61682 11.9275 7.45796C11.9135 7.29909 11.8433 7.15044 11.7294 7.03881C11.6155 6.92718 11.4655 6.85993 11.3064 6.84918C11.1473 6.83843 10.9895 6.88489 10.8617 6.98019L8.19292 9.64894C8.06812 9.77427 7.99805 9.94394 7.99805 10.1208C7.99805 10.2977 8.06812 10.4674 8.19292 10.5927L10.8617 13.2302C10.9893 13.3422 11.1548 13.4015 11.3245 13.3959C11.4943 13.3904 11.6556 13.3205 11.7756 13.2004C11.8957 13.0803 11.9656 12.9191 11.9712 12.7493C11.9767 12.5796 11.9174 12.4141 11.8054 12.2864L10.2742 10.7552H17.9992C18.1646 10.7391 18.3181 10.6621 18.4298 10.539C18.5415 10.416 18.6033 10.2558 18.6033 10.0896C18.6033 9.92338 18.5415 9.76315 18.4298 9.6401C18.3181 9.51705 18.1646 9.43999 17.9992 9.42394V9.43644Z" />
        </g>
        <defs>
          <clipPath id="clip0_1121_80646">
            <rect
              width="20"
              height="20"
              fill="white"
              transform="translate(0 0.105469)"
            />
          </clipPath>
        </defs>
      </svg>
      <span className="text-[17px] font-medium">Logout</span>
    </NavLink>
  );
};

export default Signout;
